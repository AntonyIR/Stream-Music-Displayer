(function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}})(this,document);(function(){"use strict";var e,t,n=false,r,i=function(){var e=$("#currentTitle").text(),t="Nightbot - "+e;return{song:e,title:t}},s=function(){var e=$("#now-playing-metadata").text(),t="Grooveshark - "+e;return{song:e,title:t}},o=function(){var e=$(".info .playerBarSong").text()+" - "+$(".info .playerBarArtist").text(),t="Pandora - "+e;return{song:e,title:t}},u=function(){var e=$("#now-playing-bar .bar-value").text(),t="Plug.dj - "+e;return{song:e,title:t}},a=function(){var e=$("#zp_current_song .ontheair_artist").text()+$("#zp_current_song .ontheair_song").text(),t="Zaycev - "+e;return{song:e,title:t}},f=function(){var e=$("#now_playing .title_artist .t").text()+" - "+$("#now_playing .title_artist .a").text(),t="8tracks - "+e;if($("#now_playing .title_artist .t").text()===""){return false}return{song:e,title:t}},l=function(){var e=$("#playerSongTitle").text()+" - "+$("#playerSongTitle").next().text().split("-")[0],t=e+" - My Library - Google Play";if(e.length<4){return false}return{song:e,title:t}},c=function(){var e=$(".song_title").text()+" - "+$(".text_metadata .artist_title").text(),t="Rdio - "+e;return{song:e,title:t}},h=function(){var e=$("a.playbackTitle__link").text(),t="Soundcloud - "+e;return{song:e,title:t}},p=function(){var e=$(".info .title").text(),t="Youtify - "+e;return{song:e,title:t}},d=function(){var e=$(".GEKKVSQBL- a")[0].text+" - "+$(".GEKKVSQBL- a")[1].text+" - "+$(".GEKKVSQBL- a")[2].text,t="Music Unlimited - "+e;return{song:e,title:t}},v={nightbot:i,grooveshark:s,plug:u,pandora:o,zaycev:a,"8tracks":f,rdio:c,soundcloud:h,youtify:p,"play.google":l,"music.sonyentertainmentnetwork":d},m=function(){var e=r();g(e)},g=function(e){if(e){$("title").text(e.title);$(".smd-nowplaying").text(e.song)}else{$("title").text("No Song Avalible");$(".smd-nowplaying").text("No song playing")}},y=function(){if(n){m();e=setInterval(m,1e3)}},b=function(){if(e){clearInterval(e);g()}},w=function(){var e=window.location.host;return e},E=function(){console.log("Not supported.");n=false;$(".smd-supported").addClass("unsupported");$(".smd-supported").html("Your on: <span>"+w()+", which not <a href='https://obsproject.com/forum/resources/stream-music-displayer.107/' target='_blank' >supported</a>.</span>")},S=function(){console.log("Supported! :)");n=true;$(".smd-supported").addClass("supported");$(".smd-supported").html("Your on: <span>"+w()+", which is <a href='https://obsproject.com/forum/resources/stream-music-displayer.107/' target='_blank' >supported</a>.</span>")},x=function(){var e=w(),t;for(t in v){if(e.indexOf(t)!==-1){r=v[t];S()}}if(!n){E()}console.log("check_support: "+n)},T=function(e,t){$=window.jQuery;var n="<style>*{margin: 0;padding: 0;}</style><div class='smd-container'><style>.smd-container *{margin: 0;padding: 0;}.smd-container a{cursor: pointer;color: #f77f00;text-decoration: none;}.smd-container{background-color: #1C1C1E;box-shadow: 0 0 3px black;border: 1px solid #000;color: #fff;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;position: fixed;z-index:50000;bottom: 30px;right: 30px;width: 400px;height: 130px;font-family:arial;}.smd-container .button{-moz-box-shadow:inset 0px 1px 0px 0px #54a3f7;-webkit-box-shadow:inset 0px 1px 0px 0px #54a3f7;box-shadow:inset 0px 1px 0px 0px #54a3f7;background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #007dc1), color-stop(1, #0061a7));background:-moz-linear-gradient(top, #007dc1 5%, #0061a7 100%);background:-webkit-linear-gradient(top, #007dc1 5%, #0061a7 100%);background:-o-linear-gradient(top, #007dc1 5%, #0061a7 100%);background:-ms-linear-gradient(top, #007dc1 5%, #0061a7 100%);background:linear-gradient(to bottom, #007dc1 5%, #0061a7 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#007dc1', endColorstr='#0061a7',GradientType=0);background-color:#007dc1;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:1px solid #124d77;display:inline-block;cursor:pointer;color:#ffffff;font-family:arial;font-size:13px;padding:6px 24px;text-decoration:none;text-shadow:0px 1px 0px #154682;}.smd-container .button:hover{background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #0061a7), color-stop(1, #007dc1));background:-moz-linear-gradient(top, #0061a7 5%, #007dc1 100%);background:-webkit-linear-gradient(top, #0061a7 5%, #007dc1 100%);background:-o-linear-gradient(top, #0061a7 5%, #007dc1 100%);background:-ms-linear-gradient(top, #0061a7 5%, #007dc1 100%);background:linear-gradient(to bottom, #0061a7 5%, #007dc1 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#0061a7', endColorstr='#007dc1',GradientType=0);background-color:#0061a7;}.smd-container .button:active{position:relative;top:1px;}.smd-container .button.active{-moz-box-shadow:inset 0px 1px 0px 0px #a4e271;-webkit-box-shadow:inset 0px 1px 0px 0px #a4e271;box-shadow:inset 0px 1px 0px 0px #a4e271;background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #89c403), color-stop(1, #77a809));background:-moz-linear-gradient(top, #89c403 5%, #77a809 100%);background:-webkit-linear-gradient(top, #89c403 5%, #77a809 100%);background:-o-linear-gradient(top, #89c403 5%, #77a809 100%);background:-ms-linear-gradient(top, #89c403 5%, #77a809 100%);background:linear-gradient(to bottom, #89c403 5%, #77a809 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#89c403', endColorstr='#77a809',GradientType=0);background-color:#89c403;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:1px solid #74b807;display:inline-block;cursor:pointer;color:#ffffff;font-family:arial;font-size:13px;padding:6px 24px;text-decoration:none;text-shadow:0px 1px 0px #528009;}.smd-container .button.active:hover{background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #77a809), color-stop(1, #89c403));background:-moz-linear-gradient(top, #77a809 5%, #89c403 100%);background:-webkit-linear-gradient(top, #77a809 5%, #89c403 100%);background:-o-linear-gradient(top, #77a809 5%, #89c403 100%);background:-ms-linear-gradient(top, #77a809 5%, #89c403 100%);background:linear-gradient(to bottom, #77a809 5%, #89c403 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#77a809', endColorstr='#89c403',GradientType=0);background-color:#77a809;}.smd-container .button.active:active{position:relative;top:1px;}.smd-container .smd-title{width: 390px;height: 18px;padding: 6px 5px;background: #4e4e50;-webkit-border-top-left-radius: 5px;-webkit-border-top-right-radius: 5px;-moz-border-radius-topleft: 5px;-moz-border-radius-topright: 5px;border-top-left-radius: 5px;border-top-right-radius: 5px;}.smd-container .smd-title .smd-logo{background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQwNzlCOTI3M0FDMDExRTRCMUNDQ0RDQzE4RTU1RDVCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQwNzlCOTI4M0FDMDExRTRCMUNDQ0RDQzE4RTU1RDVCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDA3OUI5MjUzQUMwMTFFNEIxQ0NDRENDMThFNTVENUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDA3OUI5MjYzQUMwMTFFNEIxQ0NDRENDMThFNTVENUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/T4hvAAACvklEQVR42kxTTWsTURS9N28yyWQ6trFtrKYlFLWCutKNC0GqbqQorrpxp7hw6UoQ3evChTtB8QP8AW50ZcEPpIXaKraCiFKrpM2HqWlC0swkM89zH0npg8dk7px77rn33PDk5CTJicfj5tlsNsn3/bEoii5orY8hZOMux2KxV7ZtLzmOY3BhGJqnRTtOp9PZB9ADgM7vBMkB4R3cBZBeZeZPvbiFF0JQwCf6+/tnQSBgUSGEBiSYLu44You4lxF+IrGYgNvtdhZVZ1zXNQlBEJjqAugqo1arZUilGM5jfD8jGEt6TiQS95RSqUajQehVu47D1VqNFtbyOoginvB2kZdIUCsITDYwjOT7ID6qhoeHcxjgI1EilZOJJNeaDZpZWqRDpTKPg2hus0KsFHl2kv3AZ8HiZqB83gLTSZEnyVChO52Q3v/8xpcKoX6mkmi8TXf9FN0M17Q9GqOksqQl7g75tAWWg8IoBwS0+q9AIzVF16IjvNz+Vd8CfJr3p1/wb/5SL+oDbkYIpBVRMm6hsiWJOBq9YaA+ebD+RzhBCU522hD9NzpMOirBy4oZaM8dEChRsCKTxWV5umzTulOm560/NOWfTVua6aVapK+pVcr1ZZkj3nYHuXkL1sztsEyrmKJ03ON3A2/1ytYGW6FNK8nPOjc2wrudtK7WNgVrBgkHZxnLQ1ieN9iDU4ibNlTM4o4OqNIu6SAMeK87SnsGRqgTIYphS//VanWjUqmMKfkPIPjd87wrIGPx2IpbFLfi5LDLKeojkQ37TJsoxuJaoVC4gfcPhgBy/kBOKZPJTGWzWVG03afMpeu7LJDZyHw+/xCt3zZqBSwuQMXHcrk8j9/nQOQMDg4aIgH1lgyyo2KxeB3DuyXfhJx7+y8VhV0sSqVS00NDQxcByqGSqtfr61jz10h8ClxDknvnvwADAHsOrVN+sYlGAAAAAElFTkSuQmCC);background-repeat: no-repeat;background-position: 1px 0px;height: 30px;float: left;padding-left: 25px;}.smd-container .smd-body{width: 390px;padding: 5px;clear:both;}.smd-container .smd-body .smd-supported{width: 400px;font-size: 11px;text-align: center;}.smd-container .smd-body .smd-supported.supported span{color: #76af39;}.smd-container .smd-body .smd-supported.unsupported span{color: #af3939;}.smd-container .smd-body .smd-run{margin: 10px 0px;width: 390px;clear: both;}.smd-container .smd-body .smd-run .smd-nowplaying{float: left;padding: 7px;font-size: 12px;max-width: 256px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;}.smd-container .smd-body .smd-run .smd-toggle{float: left;margin-left: 10px;}.smd-container .smd-body .smd-info{font-size: 11px;bottom: 0;width: 390px;text-align: right;clear: both;margin-top: 55px;}</style><div class='smd-title'><div class='smd-logo'>Stream Music Displayer!</div></div><div class='smd-body'><div class='smd-supported'></div><div class='smd-run'><button class='button smd-toggle'>Start SMD</button><div class='smd-nowplaying'></div></div><div class='smd-info'>Hide and show me with ctrl-m</div></div></div>";$("body").append(n);C()},N=function(){if(document.getElementsByClassName("smd-container").length<1){yepnope({test:!!window.jQuery,nope:"https://cdn.jsdelivr.net/jquery/2.0.3/jquery-2.0.3.min.js",complete:T});yepnope.injectJs("https://cdn.jsdelivr.net/keymaster.js/1.6.1/keymaster.min.js",function(){key("ctrl+m",function(){$(".smd-container").fadeToggle()})})}},C=function(){$(".SMDContainer").hide().fadeIn(200);x();$(".smd-toggle").click(function(){if($(this).text()==="Start SMD"){$(this).addClass("active");$(this).text("Stop SMD");y()}else if($(this).text()==="Stop SMD"){$(this).removeClass("active");$(this).text("Start SMD");b()}})};N()})()